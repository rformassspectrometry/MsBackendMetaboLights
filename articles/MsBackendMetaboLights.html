<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using Mass Spectrometry Data from MetaboLights • MsBackendMetaboLights</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using Mass Spectrometry Data from MetaboLights">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MsBackendMetaboLights</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/MsBackendMetaboLights.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RforMassSpectrometry/MsBackendMetaboLights/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using Mass Spectrometry Data from MetaboLights</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/MsBackendMetaboLights/blob/main/vignettes/MsBackendMetaboLights.Rmd" class="external-link"><code>vignettes/MsBackendMetaboLights.Rmd</code></a></small>
      <div class="d-none name"><code>MsBackendMetaboLights.Rmd</code></div>
    </div>

    
    
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  document.querySelector("h1").className = "title";
});
</script><script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  var links = document.links;  
  for (var i = 0, linksLength = links.length; i < linksLength; i++)
    if (links[i].hostname != window.location.hostname)
      links[i].target = '_blank';
});
</script><p><strong>Package</strong>: <em><a href="https://bioconductor.org/packages/3.20/MsBackendMetaboLights" class="external-link">MsBackendMetaboLights</a></em><br><strong>Authors</strong>: Johannes Rainer [aut, cre] (<a href="https://orcid.org/0000-0002-6977-7147" class="external-link uri">https://orcid.org/0000-0002-6977-7147</a>), Philippine
Louail [aut] (<a href="https://orcid.org/0009-0007-5429-6846" class="external-link uri">https://orcid.org/0009-0007-5429-6846</a>)<br><strong>Last modified:</strong> 2024-09-09 06:20:59.351124<br><strong>Compiled</strong>: Mon Sep 9 06:21:20 2024</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <em><a href="https://bioconductor.org/packages/3.20/Spectra" class="external-link">Spectra</a></em>
package provides a central infrastructure for the handling of Mass
Spectrometry (MS) data. The package supports interchangeable use of
different <em>backends</em> to import MS data from a variety of sources
and data formats. The <em>MsBackendMetaboLights</em> package allows to
retrieve MS data files directly from the <a href="https://www.ebi.ac.uk/metabolights/" class="external-link">MetaboLights</a> repository.
MetaboLights is one of the main public repositories for deposition of
metabolomics experiments including (raw) MS and/or NMR data files and
the related experimental and analytical results. The
<em>MsBackendMetaboLights</em> package downloads and locally caches MS
data files for a MetaboLights data set and enables further analyses of
this data directly in R.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package can be installed directly from within R with the few
commands below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"BiocManager"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"RforMassSpectrometry/MsBackendMetaboLights"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="importing-ms-data-from-metabolights">Importing MS Data from MetaboLights<a class="anchor" aria-label="anchor" href="#importing-ms-data-from-metabolights"></a>
</h2>
<p><a href="https://www.ebi.ac.uk/metabolights/" class="external-link">MetaboLights</a> is one
of the main public repositories for deposition of metabolomics
experiments including (raw) mass spectrometry (MS) and NMR data files
and experimental/analysis results. The experimental metadata and results
are stored as plain text files in ISA-tab format. Each MetaboLights
experiment must provide a file describing the samples analyzed and at
least one <em>assay</em> file that links between the experimental
samples and the (raw and processed) data files with quantification of
metabolites/features in these samples.</p>
<p>In this vignette we explore and load MS data files from a small
MetaboLights experiment. MetaboLights provides information on a data
set/experiment as a set of plain text files in <em>ISA-tab</em> format.
These can be accessed and read from the data set’s ftp folder. The set
of files consist generally of a file with information on the
experiment/investigation (in a file with the file name starting with
<em>i_</em>) the samples of the data set (file name starting with
<em>s_</em>), the <em>assay</em> (measurements/analysis) of the
experiment and a file with quantified metabolite abundances (file name
starting with <em>m_</em>). Note that a data set can have more than one
assay file.</p>
<p>Below we list all files from the MetaboLights data set with the ID
<em>MTBLS39</em>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/MsBackendMetaboLights" class="external-link">MsBackendMetaboLights</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' List files of a MetaboLights data set</span></span>
<span><span class="va">all_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/MetaboLights-utils.html">mtbls_list_files</a></span><span class="op">(</span><span class="st">"MTBLS39"</span><span class="op">)</span></span></code></pre></div>
<p>All these files are directly accessible in the ftp folder associated
with the MetaboLights data set. Below we use the
<code><a href="../reference/MetaboLights-utils.html">mtbls_ftp_path()</a></code> function to return the ftp path for our
test data set.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MetaboLights-utils.html">mtbls_ftp_path</a></span><span class="op">(</span><span class="st">"MTBLS39"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "ftp://ftp.ebi.ac.uk/pub/databases/metabolights/studies/public/MTBLS39/"</span></span></code></pre>
<p>We could inspect the content of this folder also using a browser
supporting the ftp file transfer protocol and also download the files.
We can however access the files also directly from within R. Below we
read the <em>assay</em> data file directly using the
<code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table()</a></code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Get the assay files of the data set</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^a_"</span>, <span class="va">all_files</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "a_MTBLS39_the_plasticity_of_the_grapevine_berry_transcriptome_metabolite_profiling_mass_spectrometry.txt"</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Read the assay file</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="../reference/MetaboLights-utils.html">mtbls_ftp_path</a></span><span class="op">(</span><span class="st">"MTBLS39"</span><span class="op">)</span>,</span>
<span>                       <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^a_"</span>, <span class="va">all_files</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                sep <span class="op">=</span> <span class="st">"\t"</span>, header <span class="op">=</span> <span class="cn">TRUE</span>, check.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Each row in this assay table refers to one measurement (data file) of
the data set, with columns providing information on that measurement.
The number and content of columns can vary between data sets. Below we
list the columns available in the assay file of our test data set.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "Sample Name"                               </span></span>
<span><span class="co">##  [2] "Protocol REF"                              </span></span>
<span><span class="co">##  [3] "Parameter Value[Post Extraction]"          </span></span>
<span><span class="co">##  [4] "Parameter Value[Derivatization]"           </span></span>
<span><span class="co">##  [5] "Extract Name"                              </span></span>
<span><span class="co">##  [6] "Protocol REF"                              </span></span>
<span><span class="co">##  [7] "Parameter Value[Chromatography Instrument]"</span></span>
<span><span class="co">##  [8] "Term Source REF"                           </span></span>
<span><span class="co">##  [9] "Term Accession Number"                     </span></span>
<span><span class="co">## [10] "Parameter Value[Autosampler model]"        </span></span>
<span><span class="co">## [11] "Term Source REF"                           </span></span>
<span><span class="co">## [12] "Term Accession Number"                     </span></span>
<span><span class="co">## [13] "Parameter Value[Column model]"             </span></span>
<span><span class="co">## [14] "Parameter Value[Column type]"              </span></span>
<span><span class="co">## [15] "Parameter Value[Guard column]"             </span></span>
<span><span class="co">## [16] "Term Source REF"                           </span></span>
<span><span class="co">## [17] "Term Accession Number"                     </span></span>
<span><span class="co">## [18] "Labeled Extract Name"                      </span></span>
<span><span class="co">## [19] "Label"                                     </span></span>
<span><span class="co">## [20] "Term Source REF"                           </span></span>
<span><span class="co">## [21] "Term Accession Number"                     </span></span>
<span><span class="co">## [22] "Protocol REF"                              </span></span>
<span><span class="co">## [23] "Parameter Value[Scan polarity]"            </span></span>
<span><span class="co">## [24] "Parameter Value[Scan m/z range]"           </span></span>
<span><span class="co">## [25] "Parameter Value[Instrument]"               </span></span>
<span><span class="co">## [26] "Term Source REF"                           </span></span>
<span><span class="co">## [27] "Term Accession Number"                     </span></span>
<span><span class="co">## [28] "Parameter Value[Ion source]"               </span></span>
<span><span class="co">## [29] "Term Source REF"                           </span></span>
<span><span class="co">## [30] "Term Accession Number"                     </span></span>
<span><span class="co">## [31] "Parameter Value[Mass analyzer]"            </span></span>
<span><span class="co">## [32] "Term Source REF"                           </span></span>
<span><span class="co">## [33] "Term Accession Number"                     </span></span>
<span><span class="co">## [34] "MS Assay Name"                             </span></span>
<span><span class="co">## [35] "Raw Spectral Data File"                    </span></span>
<span><span class="co">## [36] "Protocol REF"                              </span></span>
<span><span class="co">## [37] "Normalization Name"                        </span></span>
<span><span class="co">## [38] "Derived Spectral Data File"                </span></span>
<span><span class="co">## [39] "Protocol REF"                              </span></span>
<span><span class="co">## [40] "Data Transformation Name"                  </span></span>
<span><span class="co">## [41] "Metabolite Assignment File"</span></span></code></pre>
<p>MS data files are generally provided in a column named
<code>"Derived Spectral Data File"</code> or
<code>"Raw Spectral Data File"</code>, depending into which data field
the data set submitted entered the data. Below we list the content of
these data columns.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Raw Spectral Data File"</span>, <span class="st">"Derived Spectral Data File"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##    Raw Spectral Data File Derived Spectral Data File</span></span>
<span><span class="co">## 1        FILES/MN063A.cdf                         NA</span></span>
<span><span class="co">## 2        FILES/MN063B.cdf                         NA</span></span>
<span><span class="co">## 3        FILES/MN063C.cdf                         NA</span></span>
<span><span class="co">## 4        FILES/CS063A.cdf                         NA</span></span>
<span><span class="co">## 5        FILES/CS063B.cdf                         NA</span></span>
<span><span class="co">## 6        FILES/CS063C.cdf                         NA</span></span>
<span><span class="co">## 7        FILES/AM063A.cdf                         NA</span></span>
<span><span class="co">## 8        FILES/AM063B.cdf                         NA</span></span>
<span><span class="co">## 9        FILES/AM063C.cdf                         NA</span></span>
<span><span class="co">## 10       FILES/MN073A.cdf                         NA</span></span>
<span><span class="co">## 11       FILES/MN073B.cdf                         NA</span></span>
<span><span class="co">## 12       FILES/MN073C.cdf                         NA</span></span>
<span><span class="co">## 13       FILES/CS073A.cdf                         NA</span></span>
<span><span class="co">## 14       FILES/CS073B.cdf                         NA</span></span>
<span><span class="co">## 15       FILES/CS073C.cdf                         NA</span></span>
<span><span class="co">## 16       FILES/AM073A.cdf                         NA</span></span>
<span><span class="co">## 17       FILES/AM073B.cdf                         NA</span></span>
<span><span class="co">## 18       FILES/AM073C.cdf                         NA</span></span>
<span><span class="co">## 19       FILES/MN083A.cdf                         NA</span></span>
<span><span class="co">## 20       FILES/MN083B.cdf                         NA</span></span>
<span><span class="co">## 21       FILES/MN083C.cdf                         NA</span></span>
<span><span class="co">## 22       FILES/CS083A.cdf                         NA</span></span>
<span><span class="co">## 23       FILES/CS083B.cdf                         NA</span></span>
<span><span class="co">## 24       FILES/CS083C.cdf                         NA</span></span>
<span><span class="co">## 25       FILES/AM083A.cdf                         NA</span></span>
<span><span class="co">## 26       FILES/AM083B.cdf                         NA</span></span>
<span><span class="co">## 27       FILES/AM083C.cdf                         NA</span></span></code></pre>
<p>Note that providing MS data files is not absolutely mandatory, thus,
for some data sets no MS data files might be available. For this
particular data set the MS data files are provided in the
<code>"Raw Spectral Data File"</code> column. These files are in CDF
format and can hence be loaded using the
<code>MsBackendMetaboLights</code> backend into R as a
<code>Spectra</code> object (<code>MsBackendMetaboLights</code> directly
extends <em>Spectra</em>’s <code>MsBackendMzR</code> backend and
therefore supports import of MS data files in mzML, CDF or mzXML
formats). By default, all MS data files of all assays would be
retrieved, but in our example below we restrict to few files to reduce
the amount of data that needs to be downloaded. We define for that a
pattern matching the file name of only some data files using the
<code>filePattern</code> parameter. Alternatively, for data sets with
more than one assay, it would also be possible to select MS data files
from one particular assay only using the <code>assayName</code>
parameter. In our case we load all MS data files that end with
<em>63A.cdf</em>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/Spectra" class="external-link">Spectra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' Load MS data files of one data set</span></span>
<span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra</a></span><span class="op">(</span><span class="st">"MTBLS39"</span>, filePattern <span class="op">=</span> <span class="st">"63A.cdf"</span>,</span>
<span>             source <span class="op">=</span> <span class="fu"><a href="../reference/MsBackendMetaboLights.html">MsBackendMetaboLights</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Used data files from the assay's column "Raw Spectral Data File" since none were available in column "Derived Spectral Data File".</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span></span></code></pre></div>
<pre><code><span><span class="co">## MSn data (Spectra) with 1664 spectra in a MsBackendMetaboLights backend:</span></span>
<span><span class="co">##        msLevel     rtime scanIndex</span></span>
<span><span class="co">##      &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span></span>
<span><span class="co">## 1            1  0.296384         1</span></span>
<span><span class="co">## 2            1  6.206912         2</span></span>
<span><span class="co">## 3            1 12.093056         3</span></span>
<span><span class="co">## 4            1 17.942912         4</span></span>
<span><span class="co">## 5            1 23.835072         5</span></span>
<span><span class="co">## ...        ...       ...       ...</span></span>
<span><span class="co">## 1660         1   2678.27       549</span></span>
<span><span class="co">## 1661         1   2683.01       550</span></span>
<span><span class="co">## 1662         1   2687.81       551</span></span>
<span><span class="co">## 1663         1   2692.62       552</span></span>
<span><span class="co">## 1664         1   2697.40       553</span></span>
<span><span class="co">##  ... 36 more variables/columns.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## file(s):</span></span>
<span><span class="co">## MN063A.cdf</span></span>
<span><span class="co">## CS063A.cdf</span></span>
<span><span class="co">## AM063A.cdf</span></span></code></pre>
<p>This call now downloaded the files to the local cache and loaded
these files as a <code>Spectra</code> object. The downloading and
caching of the data is handled by Bioconductor’s <em><a href="https://bioconductor.org/packages/3.20/BiocFileCache" class="external-link">BiocFileCache</a></em>.
Any subsequent loading of the same data files will load the locally
cached versions avoiding thus repetitive download of the same data.</p>
<p>The message that is shown by the call above indicates that the MS
data files were not provided in the expected column
(<code>"Derived Spectral Data File"</code>) but in the column for raw
data files.</p>
<p>The <code>Spectra</code> object with the MS data files of the
MetaboLights data set enables now any subsequent of the data that
supports this type of data. On top of the spectra variables and mass
peak data values that are provided by the MS data files also additional
information related to the MetaboLights data set are available as
specific <em>spectra variables</em>. We list all available spectra
variables of the data set below.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">spectraVariables</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "msLevel"                    "rtime"                     </span></span>
<span><span class="co">##  [3] "acquisitionNum"             "scanIndex"                 </span></span>
<span><span class="co">##  [5] "dataStorage"                "dataOrigin"                </span></span>
<span><span class="co">##  [7] "centroided"                 "smoothed"                  </span></span>
<span><span class="co">##  [9] "polarity"                   "precScanNum"               </span></span>
<span><span class="co">## [11] "precursorMz"                "precursorIntensity"        </span></span>
<span><span class="co">## [13] "precursorCharge"            "collisionEnergy"           </span></span>
<span><span class="co">## [15] "isolationWindowLowerMz"     "isolationWindowTargetMz"   </span></span>
<span><span class="co">## [17] "isolationWindowUpperMz"     "peaksCount"                </span></span>
<span><span class="co">## [19] "totIonCurrent"              "basePeakMZ"                </span></span>
<span><span class="co">## [21] "basePeakIntensity"          "ionisationEnergy"          </span></span>
<span><span class="co">## [23] "lowMZ"                      "highMZ"                    </span></span>
<span><span class="co">## [25] "mergedScan"                 "mergedResultScanNum"       </span></span>
<span><span class="co">## [27] "mergedResultStartScanNum"   "mergedResultEndScanNum"    </span></span>
<span><span class="co">## [29] "injectionTime"              "filterString"              </span></span>
<span><span class="co">## [31] "spectrumId"                 "ionMobilityDriftTime"      </span></span>
<span><span class="co">## [33] "scanWindowLowerLimit"       "scanWindowUpperLimit"      </span></span>
<span><span class="co">## [35] "mtbls_id"                   "mtbls_assay_name"          </span></span>
<span><span class="co">## [37] "derived_spectral_data_file"</span></span></code></pre>
<p>The MetaboLights-specific variables are <code>"mtbls_id"</code>,
<code>"mtbls_assay_name"</code> and
<code>"derived_spectral_data_file"</code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">spectraData</a></span><span class="op">(</span><span class="va">s</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mtbls_id"</span>, <span class="st">"mtbls_assay_name"</span>,</span>
<span>                 <span class="st">"derived_spectral_data_file"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## DataFrame with 1664 rows and 3 columns</span></span>
<span><span class="co">##         mtbls_id       mtbls_assay_name derived_spectral_data_file</span></span>
<span><span class="co">##      &lt;character&gt;            &lt;character&gt;                &lt;character&gt;</span></span>
<span><span class="co">## 1        MTBLS39 a_MTBLS39_the_plasti..           FILES/MN063A.cdf</span></span>
<span><span class="co">## 2        MTBLS39 a_MTBLS39_the_plasti..           FILES/MN063A.cdf</span></span>
<span><span class="co">## 3        MTBLS39 a_MTBLS39_the_plasti..           FILES/MN063A.cdf</span></span>
<span><span class="co">## 4        MTBLS39 a_MTBLS39_the_plasti..           FILES/MN063A.cdf</span></span>
<span><span class="co">## 5        MTBLS39 a_MTBLS39_the_plasti..           FILES/MN063A.cdf</span></span>
<span><span class="co">## ...          ...                    ...                        ...</span></span>
<span><span class="co">## 1660     MTBLS39 a_MTBLS39_the_plasti..           FILES/AM063A.cdf</span></span>
<span><span class="co">## 1661     MTBLS39 a_MTBLS39_the_plasti..           FILES/AM063A.cdf</span></span>
<span><span class="co">## 1662     MTBLS39 a_MTBLS39_the_plasti..           FILES/AM063A.cdf</span></span>
<span><span class="co">## 1663     MTBLS39 a_MTBLS39_the_plasti..           FILES/AM063A.cdf</span></span>
<span><span class="co">## 1664     MTBLS39 a_MTBLS39_the_plasti..           FILES/AM063A.cdf</span></span></code></pre>
<p>These variables can also be used to e.g. link the individual spectra
back to the original sample (e.g. through the <em>assay</em> and
<em>sample</em> tables of the MetaboLights data set.</p>
</div>
<div class="section level2">
<h2 id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats4    stats     graphics  grDevices utils     datasets  methods  </span></span>
<span><span class="co">## [8] base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] MsBackendMetaboLights_0.0.3 Spectra_1.15.7             </span></span>
<span><span class="co">## [3] ProtGenerics_1.37.1         BiocParallel_1.39.0        </span></span>
<span><span class="co">## [5] S4Vectors_0.43.2            BiocGenerics_0.51.1        </span></span>
<span><span class="co">## [7] BiocStyle_2.33.1           </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] sass_0.4.9             MsCoreUtils_1.17.1     utf8_1.2.4            </span></span>
<span><span class="co">##  [4] generics_0.1.3         RSQLite_2.3.7          digest_0.6.37         </span></span>
<span><span class="co">##  [7] magrittr_2.0.3         evaluate_0.24.0        bookdown_0.40         </span></span>
<span><span class="co">## [10] fastmap_1.2.0          blob_1.2.4             jsonlite_1.8.8        </span></span>
<span><span class="co">## [13] DBI_1.2.3              BiocManager_1.30.25    httr_1.4.7            </span></span>
<span><span class="co">## [16] purrr_1.0.2            fansi_1.0.6            codetools_0.2-20      </span></span>
<span><span class="co">## [19] textshaping_0.4.0      jquerylib_0.1.4        cli_3.6.3             </span></span>
<span><span class="co">## [22] rlang_1.1.4            dbplyr_2.5.0           bit64_4.0.5           </span></span>
<span><span class="co">## [25] withr_3.0.1            cachem_1.1.0           yaml_2.3.10           </span></span>
<span><span class="co">## [28] tools_4.4.1            parallel_4.4.1         memoise_2.0.1         </span></span>
<span><span class="co">## [31] dplyr_1.1.4            filelock_1.0.3         curl_5.2.2            </span></span>
<span><span class="co">## [34] vctrs_0.6.5            R6_2.5.1               BiocFileCache_2.13.0  </span></span>
<span><span class="co">## [37] lifecycle_1.0.4        fs_1.6.4               htmlwidgets_1.6.4     </span></span>
<span><span class="co">## [40] IRanges_2.39.2         bit_4.0.5              clue_0.3-65           </span></span>
<span><span class="co">## [43] MASS_7.3-61            ragg_1.3.2             cluster_2.1.6         </span></span>
<span><span class="co">## [46] pkgconfig_2.0.3        desc_1.4.3             pkgdown_2.1.0.9000    </span></span>
<span><span class="co">## [49] bslib_0.8.0            pillar_1.9.0           glue_1.7.0            </span></span>
<span><span class="co">## [52] systemfonts_1.1.0      tidyselect_1.2.1       tibble_3.2.1          </span></span>
<span><span class="co">## [55] xfun_0.47              knitr_1.48             htmltools_0.5.8.1     </span></span>
<span><span class="co">## [58] rmarkdown_2.28         compiler_4.4.1         MetaboCoreUtils_1.13.0</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
